---
published: true
title: How to run meteor?
layout: post
author: jungwook
category: meteor
tag:
- meteor trial
---

## What is meteor?

**Meteor**는 브라우저/서버/데이터베이스를 포괄하는 풀스텍플래폼이다. 전체 시스템은 자바스크립트를 기반으로 하고 있으며, 특징은 다음과 같다.

* 하나의 언어(JavaScript)로 개발이 가능.
* 서버가 html을 주는 대신 데이터를 주고 client가 해당 정보를 해석해서 보여줌.
* 빠르게 개발하는 것이 가능.
* 자바스크립트 커뮤니티 및 생태계를 포용하고 있음.

## How to install?

매우 간단하다. curl 스크립트를 제공하는데

```{.bash}
curl https://install.meteor.com/ | sh
```

각 OS별 설치는 하기 문서를 참조하면 된다.

참고 페이지 : [Meteor Official Page](https://guide.meteor.com/) 

## How to start first meteor project?

공식 페이지에 가면, 해볼수 있는 Tutorial이 몇가지 있다.

참고 페이지 : [Meteor Official Tutorial](https://www.meteor.com/tutorials/blaze/creating-an-app)

설치와 함께 아래와 같은 내용이 나온다.

```{.bash}
Meteor 1.4.2.3 has been installed in your home directory (~/.meteor).
Writing a launcher script to /usr/local/bin/meteor for your convenience.
This may prompt for your password.

To get started fast:

  $ meteor create ~/my_cool_app
  $ cd ~/my_cool_app
  $ meteor

Or see the docs at:

  docs.meteor.com
```

Meteor의 경우 `meteor create`명령어로 프로젝트 시작이 가능하다.

```{.bash}
ubuntu@ip-192-168-0-14:~$ meteor create ~/my_cool_app
Created a new Meteor app in '/home/ubuntu/my_cool_app'.                            

To run your new app:                          
  cd /home/ubuntu/my_cool_app                 
  meteor npm install                          
  meteor                                      
                                              
If you are new to Meteor, try some of the learning resources here:
  https://www.meteor.com/learn                
                                              
meteor create --bare to create an empty app.  
meteor create --full to create a scaffolded app.
```

가이드 대로 만들면 위와 같은 설정 화면이 나온다.

그리고 `Tutorial`내용의 명령어를 계속 따라간다.

```{.bash}
ubuntu@ip-192-168-0-14:~/my_cool_app$ meteor npm install
my_cool_app@ /home/ubuntu/my_cool_app
?????babel-runtime@6.18.0 
?? ???? core-js@2.4.1 
?? ???? regenerator-runtime@0.9.6 
?????meteor-node-stubs@0.2.4 
  ???? asn1.js@4.9.0 
  ???? assert@1.4.1 
  ???? Base64@0.2.1 
  ???? base64-js@1.2.0 
  ???? bn.js@4.11.6 
  ???? brorand@1.0.6 
  ???? browserify-aes@1.0.6 
  ???? browserify-cipher@1.0.0 
  ???? browserify-des@1.0.0 
  ???? browserify-rsa@4.0.1 
  ???? browserify-sign@4.0.0 
  ???? browserify-zlib@0.1.4 
  ???? buffer@4.9.1 
  ???? buffer-shims@1.0.0 
  ???? buffer-xor@1.0.3 
  ???? cipher-base@1.0.3 
  ???? console-browserify@1.1.0 
  ???? constants-browserify@1.0.0 
  ???? core-util-is@1.0.2 
  ???? create-ecdh@4.0.0 
  ???? create-hash@1.1.2 
  ???? create-hmac@1.1.4 
  ???? crypto-browserify@3.11.0 
  ???? date-now@0.1.4 
  ???? des.js@1.0.0 
  ???? diffie-hellman@5.0.2 
  ???? domain-browser@1.1.7 
  ???? elliptic@6.3.2 
  ???? events@1.1.1 
  ???? evp_bytestokey@1.0.0 
  ???? hash.js@1.0.3 
  ???? http-browserify@1.7.0 
  ???? https-browserify@0.0.1 
  ???? ieee754@1.1.8 
  ???? indexof@0.0.1 
  ???? inherits@2.0.1 
  ???? isarray@1.0.0 
  ???? miller-rabin@4.0.0 
  ???? minimalistic-assert@1.0.0 
  ???? os-browserify@0.2.1 
  ???? pako@0.2.9 
  ???? parse-asn1@5.0.0 
  ???? path-browserify@0.0.0 
  ???? pbkdf2@3.0.9 
  ???? process@0.11.9 
  ???? process-nextick-args@1.0.7 
  ???? public-encrypt@4.0.0 
  ???? punycode@1.4.1 
  ???? querystring@0.2.0 
  ???? querystring-es3@0.2.1 
  ???? randombytes@2.0.3 
  ???? readable-stream@2.2.1 
  ???? ripemd160@1.0.1 
  ???? sha.js@2.4.8 
  ???? stream-browserify@2.0.1 
  ???? string_decoder@0.10.31 
  ???? timers-browserify@1.4.2 
  ???? tty-browserify@0.0.0 
  ?????url@0.11.0 
  ?? ???? punycode@1.3.2 
  ???? util@0.10.3 
  ???? util-deprecate@1.0.2 
  ???? vm-browserify@0.0.4

ubuntu@ip-192-168-0-14:~/my_cool_app$ meteor
```

해당 명령어로 `meteor`가 실행되고, 이를 http//localhost:3000 에서 확인이 가능하다.

그럼 meteor 기본 페이지가 뜬다.

## 진행 중 에러 발생시

1. case handling error

    ```{.bash}
    error handling
    W20161114-03:17:40.413(0)? (STDERR) Note: you are using a pure-JavaScript implementation of bcrypt.
    W20161114-03:17:40.597(0)? (STDERR) While this implementation will work correctly, it is known to be
    W20161114-03:17:40.598(0)? (STDERR) approximately three times slower than the native implementation.
    W20161114-03:17:40.598(0)? (STDERR) In order to use the native implementation instead, run
    W20161114-03:17:40.598(0)? (STDERR) 
    W20161114-03:17:40.599(0)? (STDERR)   meteor npm install --save bcrypt
    W20161114-03:17:40.599(0)? (STDERR) 
    W20161114-03:17:40.600(0)? (STDERR) in the root directory of your application.
    ```
    => Meteor server restarted

    run meteor npm install --save bcrypt

    need to npm proxy setting

2. case handing error

    ```{.bash}
    error handling
    W20161114-03:19:20.675(0)? (STDERR) failed to get ops for vjkA2g5LCTf32sJcr: MongoError: Failed to parse: sort: "_id.v". 'sort' field must be of BSON type Object.
    ```
    noway to handle that. So I just reset meteor before running. It works. When there is any updated,
    1. need to backup db data
    2. reset meteor
    3. run meteor and restore db data.


3. case error handling

    ```{.bash}
    While building for web.browser:
    error: no plugin found for accounts_ui.styl in ian:accounts-ui-bootstrap-3; a plugin for
    *.styl was active when it was published but none is now
    ```

    Refer : http://stackoverflow.com/questions/38678302/problems-with-stylus-on-meteor

    meteor remove ian:accounts-ui-bootstrap-3
    meteor remove accounts-password
    meteor remove stylus

    => Need to install stylus as first.
    meteor add stylus
    meteor add ian:accounts-ui-bootstrap-3
    meteor add accounts-password
